<!--
  Generated template for the CustNotificationPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title><ion-icon name="notification" color="purple"></ion-icon> Notifications</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
	<ion-list>
		<ion-item-sliding *ngFor="let notification of notifications; let i = index" [class.unseen]="!notification.seen" [class.hidden]="notification.cleared">
			<ion-item>
				<ion-avatar item-left>
					<img src="assets/imgs/DinerAvatar.png">
				</ion-avatar>
				<p *ngIf="notification.type == 0" class="notif-message">
					Your order from {{ notification.from }} is now cleared.
				</p>
				<p *ngIf="notification.type == 1" class="notif-message">
					There is new item in {{ notification.from }}'s menu!
				</p>
				<p *ngIf="notification.type == 2" class="notif-message">
					An item is out of stock in {{ notification.from }}'s menu.
				</p>
				<p *ngIf="notification.type == 3" class="notif-message">
					An item is no longer in {{ notification.from }}'s menu.
				</p>
				<p *ngIf="notification.type == 4" class="notif-message">
					An item has increased in price on {{ notification.from }}'s menu.
				</p>
				<p *ngIf="notification.type == 5" class="notif-message">
					An item has decrease in price on {{ notification.from }}'s menu.
				</p>
				<p *ngIf="notification.type == 6" class="notif-message">
					An item is now in stock on {{ notification.from }}'s menu.
				</p>
				<p *ngIf="notification.type == 7" class="notif-message">
					An item is now back in {{ notification.from }}'s menu.
				</p>


				<p class="time-date">
					{{ notification.timestamp.time }} {{ notification.timestamp.day }} 
				</p>
				<ion-badge *ngIf="!notification.seen" item-end>New!</ion-badge>
			</ion-item>
			<ion-item-options side="right">
				<button ion-button float-right clear icon-only color="danger" (click)="clear(notification.id, i)">
					<ion-icon name="close"></ion-icon>
				</button>
			</ion-item-options>
		</ion-item-sliding>
	</ion-list>
	<p class="empty-message" *ngIf=" notifications.length < 1">
		<span><ion-icon name="notifications"></ion-icon>You don't have any notifications yet.</span>
	</p>
</ion-content>
