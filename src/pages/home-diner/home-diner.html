<!--
  Generated template for the HomeDinerPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<!-- <ion-header>

  <ion-navbar>
    <ion-title>homeDiner</ion-title>
  </ion-navbar>

</ion-header> -->

<ion-header>
	<ion-toolbar>
		<button ion-button menuToggle icon-only>
			<ion-icon name="menu"></ion-icon>
		</button>
		<ion-title>Orders</ion-title>
	</ion-toolbar>
	<ion-toolbar>
		<ion-segment [(ngModel)]="orderFilter" color="secondary">
			<ion-segment-button value="all">All</ion-segment-button>
			<ion-segment-button value="dine-in" icon-right>Dine-in <ion-icon name="cafe" color="light"></ion-icon></ion-segment-button>
			<ion-segment-button value="take-out" icon-right>Take-out <ion-icon name="walk" color="light"></ion-icon></ion-segment-button>
			<ion-segment-button value="delivery" icon-right>Delivery <ion-icon name="bicycle" color="light" ></ion-icon></ion-segment-button>
		</ion-segment>
	</ion-toolbar>
</ion-header>

<ion-menu id="side-menu" type="overlay" [content]="content">
	<ion-header no-lines>
		<ion-item>
			<ion-avatar item-start>
				<img src="assets/imgs/samplePP.jpg" (click)="openProfile()">
			</ion-avatar>
			<h2 text-nowrap (click)="openProfile()" color="secondary">Cafe Diem</h2>
			<p text-nowrap>cafeDiem@gmail.com</p>
		</ion-item>
	</ion-header>
	<ion-content>
		<ion-list>
			<button ion-item icon-start (click)="openProfile()">
				<ion-icon name="person" color="fudGreen"></ion-icon> 
				Profile
			</button>
			<button ion-item icon-start (click)="openMenu()">
				<ion-icon name="paper" color="fudGreen"></ion-icon> 
				Menu
			</button>
			<button ion-item icon-start (click)="openScanner()">
				<ion-icon name="qr-scanner" color="fudGreen"></ion-icon> 
				QRScan
			</button>
			<button ion-item icon-start (click)="logout()">
				<ion-icon name="log-out" color="danger"></ion-icon> 
				Logout
			</button>
		</ion-list>
	</ion-content>
</ion-menu>

<ion-nav #content [root]="rootPage"></ion-nav>

<ion-content padding>
	<ion-list>
		<ion-item *ngFor="let order of ordersList; let i = index" class="order-list" (click)="openOrderDetails(i)" [class.hidden]="!correctOrderType(order.order_type)">
			<ion-avatar item-start>
				<img src="assets/imgs/samplePP.jpg">
			</ion-avatar>
			<h2>{{order.customer_name}}</h2>
			<ion-badge color="secondary">{{order.order_cost}}</ion-badge>
			<p>
				{{itemCount}} items
				<ion-icon *ngIf="order.order_type == 0" name="cafe"></ion-icon>
				<ion-icon *ngIf="order.order_type == 1" name="walk"></ion-icon>
				<ion-icon *ngIf="order.order_type == 2" name="bicycle"></ion-icon>
			</p>
		</ion-item>
	</ion-list>
	<p *ngIf=" ordersList.length < 1 ">
		You don't have any orders yet. 
	</p>
</ion-content>
